server:
  port: 8084

spring:
  application:
    name: pedido-service

  datasource:
    # Leer desde variables de entorno con valores por defecto
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5434/pedidos_db}
    username: ${SPRING_DATASOURCE_USERNAME:pedido_user}
    password: ${SPRING_DATASOURCE_PASSWORD:pedido_pass}
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
    open-in-view: false

# Opcional: activar Swagger UI (por defecto springdoc sirve en /swagger-ui.html)
springdoc:
  swagger-ui:
    enabled: true

# Configuración de integración con otros microservicios
services:
  billing:
    url: ${BILLING_SERVICE_URL:http://localhost:8082}
  fleet:
    url: ${FLEET_SERVICE_URL:http://localhost:8083}

# Habilitar/deshabilitar integraciones
integration:
  billing:
    enabled: ${BILLING_INTEGRATION_ENABLED:true}
  fleet:
    enabled: ${FLEET_INTEGRATION_ENABLED:true}

# JWT Configuration
jwt:
  secret: ${JWT_SECRET:VGhpcy1pcy1hLXNlY3JldC1rZXktZm9y-LWRlbW8tYXBwLWp3dC0yMDI1}
  expiration: 3600000 # 1 hour in milliseconds
  issuer: auth-service

# Logging mínimo
logging:
  level:
    root: INFO
    com.logiflow.pedidoservice: INFO
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} %-5level %logger{36} - %msg%n"
